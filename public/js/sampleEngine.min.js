!function(){var t=$("[data-nav]"),a=0,n=[],e=0,i=!1;function o(){var t=n[Math.min(a+1,n.length-1)];location.hash="#"+t}function r(){var t=n[Math.max(0,a-1)];location.hash="#"+t}t.each(function(){var t=$(this).attr("data-nav"),a=$(this).attr("data-title");n.push(t);var i=$("<option></option>").attr("value",t).html(a);$("#nav-count").append(i),"item"==$(this).attr("data-type")&&++e}),$("#nav-next").on("click",function(){if(i)return!1;i=!0,o()}),$("#nav-prev").on("click",function(){if(i)return!1;i=!0,r()}),$("#nav-count").on("change",function(){$(this).attr("disabled","disabled"),location.hash="#"+$(this).val()}),$(window).on("hashchange",function(){var o=location.hash.replace(/^#/,""),r=function(t){return n.indexOf(t)}(o);$("#nav-count").val(o),function(n){t.addClass("hidden").css("display","none"),t.eq(n).css("display","none").removeClass("hidden").fadeIn("slow",function(){$("#nav-count").removeAttr("disabled"),i=!1}),a=n,"item"==t.eq(n).attr("data-type")?$("#nav-text").html(t.eq(n).attr("data-nav")+"/"+e):$("#nav-text").html("0/"+e);var o=a/(t.length-1)*100;$("#progress").css("width",o+"%")}(r>-1?r:0)}),$(window).trigger("hashchange"),$(document).on("keyup",function(n){if(i)return!0;if(n.ctrlKey||n.shiftKey||n.altKey||-1!=["Control","Shift","Alt","Meta"].indexOf(n.key))return!0;if("Enter"==n.key||"ArrowLeft"==n.key?o():"ArrowRight"==n.key&&r(),/^(Digit|Numpad)\d$/.test(n.code)){var e=n.code.replace(/Digit|Numpad/,"");if(t.eq(a).is('[data-type="item"]')&&t.eq(a).has("[data-keyboard="+e+"]")){var c=$("[data-keyboard="+e+"]",t.eq(a));"radio"==c.attr("type")&&(c[0].checked=!0,c.trigger("change"))}}}),$("input",'[data-type="item"][data-autonext]').on("change",function(){$(this).is(":radio")&&($(this).next().css("opacity",""),$('[name="'+$(this).attr("name")+'"]').not('[value="'+$(this).val()+'"]').next().fadeTo("fast",.2,function(){setTimeout(o,300)}))})}();